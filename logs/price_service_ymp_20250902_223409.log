2025-09-02 22:34:09,318 - __main__ - INFO - Database connection established
2025-09-02 22:34:09,319 - __main__ - INFO - üöÄ Starting ypricemagic Price Service
2025-09-02 22:34:10,159 - __main__ - INFO - üåê Initializing Brownie network connection...
2025-09-02 22:34:10,159 - __main__ - INFO - Connecting to 'electro' network...
2025-09-02 22:34:12,300 - __main__ - INFO - ‚úÖ Connected to Brownie network: electro
2025-09-02 22:34:12,564 - __main__ - INFO - üìä Chain info: height=23279625, id=1
2025-09-02 22:34:12,704 - __main__ - INFO - üåê Web3 connection test: latest block = 23279625
2025-09-02 22:34:12,704 - __main__ - INFO - üì¶ Importing ypricemagic...
2025-09-02 22:34:13,201 - dank_mids.envs - INFO - For your information, you can tweak your configuration for optimal performance using any of the envs below:
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MAX_MULTICALL_SIZE`, default_value=10000, using_default=True)
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MAX_JSONRPC_BATCH_SIZE`, default_value=500, using_default=True)
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_REQUESTS_PER_SECOND`, default_value=50, using_default=True)
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MIN_REQUESTS_PER_SECOND`, default_value=10, using_default=True)
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[bool](name=`DANKMIDS_GANACHE_FORK`, default_value=False, using_default=True)
2025-09-02 22:34:13,201 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_AIOHTTP_TIMEOUT`, default_value=1200, using_default=True)
2025-09-02 22:34:13,211 - typed_envs - INFO - EnvironmentVariable[bool](name=`DANKMIDS_COLLECT_STATS`, default_value=False, using_default=True)
2025-09-02 22:34:13,211 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_STUCK_CALL_TIMEOUT`, default_value=120, using_default=True)
2025-09-02 22:34:13,212 - dank_mids.envs - INFO - More details can be found in dank_mids/ENVIRONMENT_VARIABLES.py
2025-09-02 22:34:13,212 - dank_mids.envs - INFO - NOTE: You can disable these logs by setting the `TYPEDENVS_SHUTUP` env var to any value.
2025-09-02 22:34:13,683 - typed_envs - INFO - EnvironmentVariable[int](name=`YPRICEMAGIC_GETLOGS_BATCH_SIZE`, default_value=0, using_default=True)
2025-09-02 22:34:14,329 - __main__ - INFO - ‚úÖ ypricemagic imported successfully
2025-09-02 22:34:14,329 - __main__ - INFO - üß™ Testing ypricemagic functionality...
2025-09-02 22:34:14,329 - __main__ - INFO - üîÑ Checking for stale 'processing' requests from previous service instances...
2025-09-02 22:42:14,688 - __main__ - INFO - [2 remaining] Processing 0x090185f2135308BaD17527004364eBcC2D37e5F6 (SPELL) at block 23279665 (req 6582)
2025-09-02 22:42:14,717 - y.prices.utils.ypriceapi - INFO - ypriceAPI is now in beta!

Head to ypriceapi-beta.yearn.finance and sign up for access. You get:
 - access to your desired price data more quickly...
 - ...from nodes run by yearn-affiliated big brains...
 - ...on all the networks Yearn supports.

Check out some testimonials from our close frens:
 - from anon3909, "I can now get prices for all of my useless shitcoins without waiting all day for ypricemagic to load logs."
 - from anon4204, "I don't need to maintain an archive node anymore and that's saving me money."
 - from anon2449, "Wow, so fast!"

2025-09-02 22:42:14,719 - dank_mids.controller - INFO - Dank Middleware initializing... Strap on your rocket boots...
2025-09-02 22:42:15,669 - y._db.common - INFO - <FeedsFromEvents addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf topics=['0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc']> is cached thru block 23279464, loading from db
2025-09-02 22:42:15,669 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf, topic0=0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc)
2025-09-02 22:42:16,045 - y._db.common - INFO - <FeedsFromEvents addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf topics=['0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc']> loaded 261 objects thru block 23279464 from disk
2025-09-02 22:42:16,936 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for uniswap v2 on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 22:42:16,936 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for sushiswap on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 22:42:16,936 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for shibaswap on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 22:42:16,936 - y._db.common - INFO - <AddressProviderEvents addresses=0x0000000022D53366457F9d5E68Ec105046FC4383 topics=[]> is cached thru block 23279427, loading from db
2025-09-02 22:42:16,937 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x0000000022D53366457F9d5E68Ec105046FC4383)
2025-09-02 22:42:17,629 - y._db.common - INFO - <UniV3Pools addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'] topics=['0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118']> is cached thru block 23279465, loading from db
2025-09-02 22:42:17,629 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'], topic0=0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118)
2025-09-02 22:42:19,035 - y._db.common - INFO - <PoolsFromEvents label=uniswap v2> is cached thru block 23279441, loading from db
2025-09-02 22:42:19,035 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 22:42:19,035 - y._db.common - INFO - <PoolsFromEvents label=sushiswap> is cached thru block 23279427, loading from db
2025-09-02 22:42:19,036 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0xC0AEe478e3658e2610c5F7A4A2E1777cE9e4f2Ac'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 22:42:19,041 - y._db.common - INFO - <PoolsFromEvents label=shibaswap> is cached thru block 23279427, loading from db
2025-09-02 22:42:19,041 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x115934131916C8b277DD010Ee02de363c09d037c'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 22:42:32,694 - y._db.common - INFO - <AddressProviderEvents addresses=0x0000000022D53366457F9d5E68Ec105046FC4383 topics=[]> loaded 37 objects thru block 23279427 from disk
2025-09-02 22:42:33,640 - y._db.common - INFO - <RegistryEvents addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5 topics=[]> is cached thru block 23279427, loading from db
2025-09-02 22:42:33,641 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5)
2025-09-02 22:42:33,641 - y._db.common - INFO - <RegistryEvents addresses=0x8F942C20D02bEfc377D41445793068908E2250D0 topics=[]> is cached thru block 23279427, loading from db
2025-09-02 22:42:33,641 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x8F942C20D02bEfc377D41445793068908E2250D0)
2025-09-02 22:42:33,862 - y._db.common - INFO - <RegistryEvents addresses=0x8F942C20D02bEfc377D41445793068908E2250D0 topics=[]> loaded 10 objects thru block 23279427 from disk
2025-09-02 22:42:34,111 - y._db.common - INFO - <PoolsFromEvents label=shibaswap> loaded 1021 objects thru block 23279427 from disk
2025-09-02 22:42:34,113 - y._db.common - INFO - <RegistryEvents addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5 topics=[]> loaded 57 objects thru block 23279427 from disk
2025-09-02 22:42:34,827 - y.prices.dex.uniswap.v2 - INFO - Loaded 1022 pools supporting 848 tokens on shibaswap
2025-09-02 22:42:38,394 - y._db.common - INFO - <PoolsFromEvents label=sushiswap> loaded 4379 objects thru block 23279427 from disk
2025-09-02 22:42:39,173 - y.prices.dex.uniswap.v2 - INFO - Loaded 4397 pools supporting 3666 tokens on sushiswap
2025-09-02 22:42:39,295 - y.prices.stable_swap.curve.startup - INFO - loaded 1839 pools from 2 registries and 7 factories
2025-09-02 22:43:02,403 - y._db.common - INFO - <UniV3Pools addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'] topics=['0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118']> loaded 45394 objects thru block 23279465 from disk
2025-09-02 22:45:00,708 - y._db.common - INFO - <PoolsFromEvents label=uniswap v2> loaded 453848 objects thru block 23279441 from disk
2025-09-02 22:46:22,343 - y.prices.dex.uniswap.v2 - INFO - Loaded 454157 pools supporting 445218 tokens on uniswap v2
2025-09-02 22:48:55,603 - __main__ - INFO - [1 remaining] ‚úÖ Completed 0x090185f2135308BaD17527004364eBcC2D37e5F6 = $0.0004803682371687285
2025-09-02 22:48:55,612 - __main__ - INFO - [1 remaining] Processing 0xdAC17F958D2ee523a2206206994597C13D831ec7 (USDT) at block 23279665 (req 6583)
2025-09-02 22:48:55,617 - __main__ - INFO - [0 remaining] ‚úÖ Completed 0xdAC17F958D2ee523a2206206994597C13D831ec7 = $1.0
