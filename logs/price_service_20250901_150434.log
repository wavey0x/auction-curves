2025-09-01 15:04:37,033 - __main__ - INFO - ✅ Database connection established
2025-09-01 15:04:37,033 - __main__ - INFO - 🚀 Starting CowSwap Price Service
2025-09-01 15:04:37,033 - __main__ - INFO - 📊 Settings: poll_interval=10s, recency_blocks=5000
2025-09-01 15:04:37,033 - __main__ - INFO - 🌐 CowSwap API supports mainnet (chain_id=1) only
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] Found 11 recent unprocessed mainnet takes (< 5000 blocks old)
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] Processing 11 takes with 15 unique tokens
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] 🔍 Fetching prices for 15 tokens via quotes
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] ⏰ Using 30-second delays between requests to avoid rate limiting
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] 🚀 Processing token 1/15: 0xD533..cd52
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] 📤 Requesting quote for 0xD533..cd52
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] 📤 Sell amount: 1000000000000000000 0xD533..cd52
2025-09-01 15:04:37,053 - __main__ - INFO - [COWSWAP] 📤 From address: 0x47ac0Fb4F2D84898e4D9E7b4DaB3C24507a6D503
2025-09-01 15:04:37,058 - urllib3.connectionpool - DEBUG - Starting new HTTPS connection (1): api.cow.fi:443
2025-09-01 15:04:37,086 - urllib3.connectionpool - DEBUG - https://api.cow.fi:443 "POST /mainnet/api/v1/quote HTTP/1.1" 403 919
2025-09-01 15:04:37,086 - __main__ - INFO - xxxxxurl: https://api.cow.fi/mainnet/api/v1/quote
2025-09-01 15:04:37,086 - __main__ - INFO - [COWSWAP] 📥 Response: 403
2025-09-01 15:04:37,086 - __main__ - ERROR - [COWSWAP] ❌ 403 FORBIDDEN for 0xD533..cd52
2025-09-01 15:04:37,086 - __main__ - ERROR - [COWSWAP] 📄 Response headers: {'Server': 'CloudFront', 'Date': 'Mon, 01 Sep 2025 19:04:37 GMT', 'Content-Type': 'text/html', 'Content-Length': '919', 'Connection': 'keep-alive', 'X-Cache': 'Error from cloudfront', 'Via': '1.1 ed769d9f7e8f06199b47692e115648e2.cloudfront.net (CloudFront)', 'X-Amz-Cf-Pop': 'ATL59-P14', 'X-Amz-Cf-Id': 'sVQOlAMs9FKsfifByh-Jzhe_10R95-b7PbyTSY7XE2iPXVOt56RyUg=='}
2025-09-01 15:04:37,086 - __main__ - ERROR - [COWSWAP] 📄 Full response body: <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<HTML><HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>ERROR: The request could not be satisfied</TITLE>
</HEAD><BODY>
<H1>403 ERROR</H1>
<H2>The request could not be satisfied.</H2>
<HR noshade size="1px">
Request blocked.
We can't connect to the server for this app or website at this time. There might be too much traffic or a configuration error. Try again later, or contact the app or website owner.
<BR clear="all">
If you provide content to customers through CloudFront, you can find steps to troubleshoot and help prevent this error by reviewing the CloudFront documentation.
<BR clear="all">
<HR noshade size="1px">
<PRE>
Generated by cloudfront (CloudFront)
Request ID: sVQOlAMs9FKsfifByh-Jzhe_10R95-b7PbyTSY7XE2iPXVOt56RyUg==
</PRE>
<ADDRESS>
</ADDRESS>
</BODY></HTML>
2025-09-01 15:04:37,086 - __main__ - ERROR - [COWSWAP] 🌐 Request URL: https://api.cow.fi/mainnet/api/v1/quote
2025-09-01 15:04:37,086 - __main__ - INFO - [COWSWAP] ❌ No price for 0xD533..cd52
2025-09-01 15:04:37,086 - __main__ - INFO - [COWSWAP] 💤 Waiting 30 seconds before next request (2/15)...
