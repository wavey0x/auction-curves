2025-09-02 07:47:16,314 - __main__ - INFO - Database connection established
2025-09-02 07:47:16,314 - __main__ - INFO - üöÄ Starting ypricemagic Price Service
2025-09-02 07:47:17,200 - __main__ - INFO - üåê Initializing Brownie network connection...
2025-09-02 07:47:17,200 - __main__ - INFO - Connecting to 'electro' network...
2025-09-02 07:47:19,339 - __main__ - INFO - ‚úÖ Connected to Brownie network: electro
2025-09-02 07:47:19,610 - __main__ - INFO - üìä Chain info: height=23275212, id=1
2025-09-02 07:47:19,754 - __main__ - INFO - üåê Web3 connection test: latest block = 23275212
2025-09-02 07:47:19,754 - __main__ - INFO - üì¶ Importing ypricemagic...
2025-09-02 07:47:20,258 - dank_mids.envs - INFO - For your information, you can tweak your configuration for optimal performance using any of the envs below:
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MAX_MULTICALL_SIZE`, default_value=10000, using_default=True)
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MAX_JSONRPC_BATCH_SIZE`, default_value=500, using_default=True)
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_REQUESTS_PER_SECOND`, default_value=50, using_default=True)
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_MIN_REQUESTS_PER_SECOND`, default_value=10, using_default=True)
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[bool](name=`DANKMIDS_GANACHE_FORK`, default_value=False, using_default=True)
2025-09-02 07:47:20,258 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_AIOHTTP_TIMEOUT`, default_value=1200, using_default=True)
2025-09-02 07:47:20,269 - typed_envs - INFO - EnvironmentVariable[bool](name=`DANKMIDS_COLLECT_STATS`, default_value=False, using_default=True)
2025-09-02 07:47:20,269 - typed_envs - INFO - EnvironmentVariable[int](name=`DANKMIDS_STUCK_CALL_TIMEOUT`, default_value=120, using_default=True)
2025-09-02 07:47:20,269 - dank_mids.envs - INFO - More details can be found in dank_mids/ENVIRONMENT_VARIABLES.py
2025-09-02 07:47:20,269 - dank_mids.envs - INFO - NOTE: You can disable these logs by setting the `TYPEDENVS_SHUTUP` env var to any value.
2025-09-02 07:47:20,735 - typed_envs - INFO - EnvironmentVariable[int](name=`YPRICEMAGIC_GETLOGS_BATCH_SIZE`, default_value=0, using_default=True)
2025-09-02 07:47:21,388 - __main__ - INFO - ‚úÖ ypricemagic imported successfully
2025-09-02 07:47:21,388 - __main__ - INFO - üß™ Testing ypricemagic functionality...
2025-09-02 07:47:21,388 - __main__ - INFO - üîÑ Checking for stale 'processing' requests from previous service instances...
2025-09-02 08:01:11,984 - __main__ - INFO - [4 remaining] Processing 0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E (crvUSD) at block 23273587 (req 3063)
2025-09-02 08:01:12,014 - y.prices.utils.ypriceapi - INFO - ypriceAPI is now in beta!

Head to ypriceapi-beta.yearn.finance and sign up for access. You get:
 - access to your desired price data more quickly...
 - ...from nodes run by yearn-affiliated big brains...
 - ...on all the networks Yearn supports.

Check out some testimonials from our close frens:
 - from anon3968, "I can now get prices for all of my useless shitcoins without waiting all day for ypricemagic to load logs."
 - from anon8641, "I don't need to maintain an archive node anymore and that's saving me money."
 - from anon823, "Wow, so fast!"

2025-09-02 08:01:12,016 - dank_mids.controller - INFO - Dank Middleware initializing... Strap on your rocket boots...
2025-09-02 08:01:12,970 - y._db.common - INFO - <FeedsFromEvents addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf topics=['0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc']> is cached thru block 23272439, loading from db
2025-09-02 08:01:12,970 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf, topic0=0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc)
2025-09-02 08:01:13,467 - y._db.common - INFO - <FeedsFromEvents addresses=0x47Fb2585D2C56Fe188D0E6ec628a38b74fCeeeDf topics=['0x27a180c70f2642f63d1694eb252b7df52e7ab2565e3f67adf7748acb7d82b9bc']> loaded 261 objects thru block 23272439 from disk
2025-09-02 08:01:14,696 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for uniswap v2 on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 08:01:14,697 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for sushiswap on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 08:01:14,697 - y._db.common - INFO - <AddressProviderEvents addresses=0x0000000022D53366457F9d5E68Ec105046FC4383 topics=[]> is cached thru block 23272422, loading from db
2025-09-02 08:01:14,697 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x0000000022D53366457F9d5E68Ec105046FC4383)
2025-09-02 08:01:14,698 - y.prices.dex.uniswap.v2 - INFO - Fetching pools for shibaswap on Mainnet. If this is your first time using ypricemagic, this can take a while. Please wait patiently...
2025-09-02 08:01:16,276 - y._db.common - INFO - <UniV3Pools addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'] topics=['0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118']> is cached thru block 23272439, loading from db
2025-09-02 08:01:16,276 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'], topic0=0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118)
2025-09-02 08:01:17,792 - y._db.common - INFO - <PoolsFromEvents label=uniswap v2> is cached thru block 23272437, loading from db
2025-09-02 08:01:17,792 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 08:01:17,798 - y._db.common - INFO - <PoolsFromEvents label=sushiswap> is cached thru block 23272422, loading from db
2025-09-02 08:01:17,798 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0xC0AEe478e3658e2610c5F7A4A2E1777cE9e4f2Ac'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 08:01:17,800 - y._db.common - INFO - <PoolsFromEvents label=shibaswap> is cached thru block 23272422, loading from db
2025-09-02 08:01:17,800 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=['0x115934131916C8b277DD010Ee02de363c09d037c'], topic0=['0x0d3648bd0f6ba80134a33ba9275ac585d9d315f0ad8355cddefde31afa28d0e9'])
2025-09-02 08:01:32,854 - y._db.common - INFO - <AddressProviderEvents addresses=0x0000000022D53366457F9d5E68Ec105046FC4383 topics=[]> loaded 37 objects thru block 23272422 from disk
2025-09-02 08:01:33,942 - y._db.common - INFO - <RegistryEvents addresses=0x8F942C20D02bEfc377D41445793068908E2250D0 topics=[]> is cached thru block 23272422, loading from db
2025-09-02 08:01:33,943 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x8F942C20D02bEfc377D41445793068908E2250D0)
2025-09-02 08:01:33,943 - y._db.common - INFO - <RegistryEvents addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5 topics=[]> is cached thru block 23272422, loading from db
2025-09-02 08:01:33,943 - y._db.utils.logs - INFO - executing select query for LogCache(addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5)
2025-09-02 08:01:34,273 - y._db.common - INFO - <RegistryEvents addresses=0x8F942C20D02bEfc377D41445793068908E2250D0 topics=[]> loaded 10 objects thru block 23272422 from disk
2025-09-02 08:01:34,378 - y._db.common - INFO - <RegistryEvents addresses=0x90E00ACe148ca3b23Ac1bC8C240C2a7Dd9c2d7f5 topics=[]> loaded 57 objects thru block 23272422 from disk
2025-09-02 08:01:34,732 - y._db.common - INFO - <PoolsFromEvents label=shibaswap> loaded 1021 objects thru block 23272422 from disk
2025-09-02 08:01:35,678 - y.prices.dex.uniswap.v2 - INFO - Loaded 1022 pools supporting 848 tokens on shibaswap
2025-09-02 08:01:39,105 - y.prices.stable_swap.curve.startup - INFO - loaded 1836 pools from 2 registries and 7 factories
2025-09-02 08:01:39,722 - y._db.common - INFO - <PoolsFromEvents label=sushiswap> loaded 4379 objects thru block 23272422 from disk
2025-09-02 08:01:40,551 - y.prices.dex.uniswap.v2 - INFO - Loaded 4397 pools supporting 3666 tokens on sushiswap
2025-09-02 08:02:11,138 - y._db.common - INFO - <UniV3Pools addresses=['0x1F98431c8aD98523631AE4a59f267346ea31F984'] topics=['0x783cca1c0412dd0d695e784568c96da2e9c22ff989357a2e8b1d9b2b4e6b7118']> loaded 45338 objects thru block 23272439 from disk
2025-09-02 08:04:31,898 - y._db.common - INFO - <PoolsFromEvents label=uniswap v2> loaded 453591 objects thru block 23272437 from disk
2025-09-02 08:05:45,780 - y.prices.dex.uniswap.v2 - INFO - Loaded 453967 pools supporting 445028 tokens on uniswap v2
2025-09-02 08:07:45,018 - __main__ - INFO - [3 remaining] ‚úÖ Completed 0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E = $0.999956
2025-09-02 08:07:45,026 - __main__ - INFO - [3 remaining] Processing 0x62B9c7356A2Dc64a1969e19C23e4f579F9810Aa7 (cvxCRV) at block 23273587 (req 3064)
2025-09-02 08:07:45,906 - y.prices.lending.aave - INFO - loaded 37 v2 atokens for <AaveMarketV2 '0x7d2768dE32b0b80b7a3454c06BdAc94A69DDc7A9'>
2025-09-02 08:07:45,906 - y.prices.lending.aave - INFO - loaded 23 v2 atokens for <AaveMarketV2 '0x7937D4799803FbBe595ed57278Bc4cA21f3bFfCB'>
2025-09-02 08:07:45,906 - y.prices.lending.aave - INFO - loaded 5 v2 atokens for <AaveMarketV2 '0xcE744a9BAf573167B2CF138114BA32ed7De274Fa'>
2025-09-02 08:07:45,907 - y.prices.lending.aave - INFO - loaded 53 v3 atokens for <AaveMarketV3 '0x87870Bca3F3fD6335C3F4ce8392D69350B4fA4E2'>
2025-09-02 08:07:45,907 - y.prices.lending.aave - INFO - loaded 22 v1 atokens for <AaveMarketV1 '0x398eC7346DcD622eDc5ae82352F02bE94C62d119'>
loaded 92 markets for 0x3d5BC3c8d13dcB8bF317092d84783c2697AE9258
2025-09-02 08:07:46,819 - y.prices.lending.compound - INFO - loaded 92 markets for 0x3d5BC3c8d13dcB8bF317092d84783c2697AE9258
loaded 24 markets for 0xAB1c342C7bf5Ec5F02ADEA1c2270670bCa144CbB
2025-09-02 08:07:46,820 - y.prices.lending.compound - INFO - loaded 24 markets for 0xAB1c342C7bf5Ec5F02ADEA1c2270670bCa144CbB
loaded 24 markets for 0x4dCf7407AE5C07f8681e1659f626E114A7667339
2025-09-02 08:07:46,821 - y.prices.lending.compound - INFO - loaded 24 markets for 0x4dCf7407AE5C07f8681e1659f626E114A7667339
loaded 11 markets for 0x3105D328c66d8d55092358cF595d54608178E9B5
2025-09-02 08:07:46,821 - y.prices.lending.compound - INFO - loaded 11 markets for 0x3105D328c66d8d55092358cF595d54608178E9B5
loaded 5 markets for 0x95Af143a021DF745bc78e845b54591C53a8B3A51
2025-09-02 08:07:46,821 - y.prices.lending.compound - INFO - loaded 5 markets for 0x95Af143a021DF745bc78e845b54591C53a8B3A51
loaded 23 markets for 0x687a01ecF6d3907658f7A7c714749fAC32336D1B
2025-09-02 08:07:46,821 - y.prices.lending.compound - INFO - loaded 23 markets for 0x687a01ecF6d3907658f7A7c714749fAC32336D1B
loaded 20 markets for 0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B
2025-09-02 08:07:46,822 - y.prices.lending.compound - INFO - loaded 20 markets for 0x3d9819210A31b4961b30EF54bE2aeD79B9c9Cd3B
2025-09-02 08:07:51,323 - __main__ - INFO - [2 remaining] ‚úÖ Completed 0x62B9c7356A2Dc64a1969e19C23e4f579F9810Aa7 = $0.30390045114111663
2025-09-02 08:07:51,324 - __main__ - INFO - [2 remaining] Processing 0x41252E8691e964f7DE35156B68493bAb6797a275 (dYFI) at block 23273586 (req 3065)
2025-09-02 08:07:54,534 - __main__ - INFO - [1 remaining] ‚úÖ Completed 0x41252E8691e964f7DE35156B68493bAb6797a275 = $3390.0383544328433
2025-09-02 08:07:54,534 - __main__ - INFO - [1 remaining] Processing 0x97983236bE88107Cc8998733Ef73D8d969c52E37 (sdYFI) at block 23273586 (req 3066)
2025-09-02 08:07:58,512 - __main__ - INFO - [0 remaining] ‚úÖ Completed 0x97983236bE88107Cc8998733Ef73D8d969c52E37 = $5016.7396772961465
2025-09-02 08:08:08,525 - __main__ - INFO - [8 remaining] Processing 0x41252E8691e964f7DE35156B68493bAb6797a275 (dYFI) at block 23273584 (req 3067)
2025-09-02 08:08:09,384 - __main__ - INFO - [7 remaining] ‚úÖ Completed 0x41252E8691e964f7DE35156B68493bAb6797a275 = $3390.0383544328433
2025-09-02 08:08:09,385 - __main__ - INFO - [7 remaining] Processing 0x95710BDE45C8D384A976Cc58Cc7a7e489576b098 (upYFI) at block 23273584 (req 3068)
2025-09-02 08:08:12,214 - __main__ - INFO - [6 remaining] ‚úÖ Completed 0x95710BDE45C8D384A976Cc58Cc7a7e489576b098 = $0.06990660508461254
2025-09-02 08:08:12,214 - __main__ - INFO - [6 remaining] Processing 0x41252E8691e964f7DE35156B68493bAb6797a275 (dYFI) at block 23273583 (req 3069)
2025-09-02 08:08:13,049 - __main__ - INFO - [5 remaining] ‚úÖ Completed 0x41252E8691e964f7DE35156B68493bAb6797a275 = $3390.0383544328433
2025-09-02 08:08:13,050 - __main__ - INFO - [5 remaining] Processing 0x95710BDE45C8D384A976Cc58Cc7a7e489576b098 (upYFI) at block 23273583 (req 3070)
2025-09-02 08:08:13,763 - __main__ - INFO - [4 remaining] ‚úÖ Completed 0x95710BDE45C8D384A976Cc58Cc7a7e489576b098 = $0.06991004977277816
2025-09-02 08:08:13,764 - __main__ - INFO - [4 remaining] Processing 0x41252E8691e964f7DE35156B68493bAb6797a275 (dYFI) at block 23274291 (req 3071)
2025-09-02 08:08:14,849 - __main__ - INFO - [3 remaining] ‚úÖ Completed 0x41252E8691e964f7DE35156B68493bAb6797a275 = $3381.715413057752
2025-09-02 08:08:14,850 - __main__ - INFO - [3 remaining] Processing 0xdC035D45d973E3EC169d2276DDab16f1e407384F (USDS) at block 23274291 (req 3072)
2025-09-02 08:08:15,397 - __main__ - INFO - [2 remaining] ‚úÖ Completed 0xdC035D45d973E3EC169d2276DDab16f1e407384F = $0.99970815
2025-09-02 08:08:15,400 - __main__ - INFO - [2 remaining] Processing 0x41252E8691e964f7DE35156B68493bAb6797a275 (dYFI) at block 23274355 (req 3073)
2025-09-02 08:08:16,256 - __main__ - INFO - [1 remaining] ‚úÖ Completed 0x41252E8691e964f7DE35156B68493bAb6797a275 = $3401.7220956556253
2025-09-02 08:08:16,257 - __main__ - INFO - [1 remaining] Processing 0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E (crvUSD) at block 23274355 (req 3074)
2025-09-02 08:08:17,010 - __main__ - INFO - [0 remaining] ‚úÖ Completed 0xf939E0A03FB07F59A73314E73794Be0E57ac1b4E = $1.000019
